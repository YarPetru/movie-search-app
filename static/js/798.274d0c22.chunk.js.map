{"version":3,"file":"static/js/798.274d0c22.chunk.js","mappings":"gLAMA,EAJe,WACb,OAAO,SAACA,EAAA,EAAD,CAAeC,MAAM,c,kKCF9B,EAA8B,6BAA9B,EAAwE,4BAAxE,EAAiH,4BAAjH,EAA4J,8B,SC0E5J,EAjCgB,WACd,MAlCiB,WACjB,OAA8BC,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA4BF,EAAAA,EAAAA,UAAS,QAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,QAyBR,OAvBAE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAY,mCAAG,wGAEjBN,EAAU,WAFO,UAGKO,EAAAA,EAAAA,IAAgBJ,GAHrB,OAGXN,EAHW,OAIjBW,QAAQC,IAAIZ,GACZC,EAAWD,GALM,EAMca,SAC5BC,cAAc,MACdC,wBAFaC,EANC,EAMTC,OAIRC,OAAOC,SAAS,CACdC,IAAkB,GAAbJ,EACLK,SAAU,WAEZlB,EAAU,YAdO,kDAgBjBE,EAAS,EAAD,IACRF,EAAU,YAjBO,0DAAH,qDAoBlBM,MACC,CAACH,IACG,CAAEN,QAAAA,EAASI,MAAAA,EAAOF,OAAAA,GAIUoB,GAA3BtB,EAAR,EAAQA,QAASI,EAAjB,EAAiBA,MAAOF,EAAxB,EAAwBA,OACxB,OACE,gCACc,YAAXA,IAAwB,SAACqB,EAAA,EAAD,IACb,aAAXrB,IACCsB,EAAAA,EAAAA,IAAM,iDAAD,OAC8CpB,EAAMqB,SACvD,CACEC,KAAM,eACNC,MAAO,CACLC,aAAc,OACdC,WAAY,OACZ/B,MAAO,UAIH,aAAXI,GAA4C,IAAnBF,EAAQ8B,QAChC,eAAIC,UAAWC,EAAf,SACGhC,EAAQiC,KAAI,SAAAC,GAAM,OACjB,gBAAoBH,UAAWC,EAA/B,WACE,eAAGD,UAAWC,EAAd,cAA8BE,EAAOC,QAArC,QACA,gBAAIJ,UAAWC,EAAf,qBAAwCE,EAAOE,YAFxCF,EAAOG,UAOpB,wDCnED,SAASC,IACd,OAAO,SAAC,EAAD,M,0MCDHC,EAAS,mCAEfC,IAAAA,SAAAA,QAAyB,+BAGlB,IAAMC,EAAc,mCAAG,oGACLD,IAAAA,IAAA,sCAAyCD,IADpC,cACtBG,EADsB,yBAErBA,EAASC,KAAKC,SAFO,2CAAH,qDAMdC,EAAe,mCAAG,WAAMC,GAAN,uFACNN,IAAAA,IAAA,gCACID,EADJ,kBACoBO,IAFd,cACvBJ,EADuB,yBAItBA,EAASC,KAAKC,SAJQ,2CAAH,sDAQfG,EAAe,mCAAG,WAAMC,GAAN,uFACNR,IAAAA,IAAA,iBAAoBQ,EAApB,oBAAuCT,IADjC,cACvBG,EADuB,yBAEtBA,EAASC,MAFa,2CAAH,sDAMfM,EAAe,mCAAG,WAAMD,GAAN,uFACNR,IAAAA,IAAA,iBACXQ,EADW,4BACgBT,IAFV,cACvBG,EADuB,yBAItBA,EAASC,KAAKO,MAJQ,2CAAH,sDAQfxC,EAAe,mCAAG,WAAMsC,GAAN,uFACNR,IAAAA,IAAA,iBACXQ,EADW,4BACgBT,IAFV,cACvBG,EADuB,yBAItBA,EAASC,KAAKC,SAJQ,2CAAH","sources":["components/Loader/Loader.jsx","webpack://movie-search-app/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","pages/ReviewsPage.jsx","services/api.js"],"sourcesContent":["import { SpinnerDotted } from 'spinners-react';\n\nconst Loader = () => {\n  return <SpinnerDotted color=\"#5e3e53\" />;\n};\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"reviewsList\":\"Reviews_reviewsList__hDAQA\",\"reviewItem\":\"Reviews_reviewItem__ax7Fo\",\"reviewText\":\"Reviews_reviewText__lxUoA\",\"reviewAuthor\":\"Reviews_reviewAuthor__f4lkL\"};","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport toast from 'react-hot-toast';\n\nimport { getMovieReviews } from '../../services/api';\n\nimport Loader from 'components/Loader';\nimport s from './Reviews.module.css';\n\nconst GetReviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState(null);\n\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const fetchReviews = async () => {\n      try {\n        setStatus('pending');\n        const reviews = await getMovieReviews(movieId);\n        console.log(reviews);\n        setReviews(reviews);\n        const { height: cardHeight } = document\n          .querySelector('ul')\n          .getBoundingClientRect();\n\n        window.scrollBy({\n          top: cardHeight * 10,\n          behavior: 'smooth',\n        });\n        setStatus('resolved');\n      } catch (error) {\n        setError(error);\n        setStatus('rejected');\n      }\n    };\n    fetchReviews();\n  }, [movieId]);\n  return { reviews, error, status };\n};\n\nconst Reviews = () => {\n  const { reviews, error, status } = GetReviews();\n  return (\n    <>\n      {status === 'pending' && <Loader />}\n      {status === 'rejected' &&\n        toast(\n          `Oops. Something went wrong. Please try again. ${error.message}`,\n          {\n            icon: 'ðŸ˜“',\n            style: {\n              borderRadius: '10px',\n              background: '#333',\n              color: '#fff',\n            },\n          }\n        )}\n      {status === 'resolved' && reviews.length !== 0 ? (\n        <ul className={s.reviewsList}>\n          {reviews.map(review => (\n            <li key={review.id} className={s.reviewItem}>\n              <p className={s.reviewText}>\"{review.content}\"</p>\n              <h3 className={s.reviewAuthor}>Author: {review.author}</h3>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>There are no reviews yet</p>\n      )}\n    </>\n  );\n};\n\nexport default Reviews;\n","import Reviews from '../components/Reviews';\n\nexport function ReviewsPage() {\n  return <Reviews />;\n}\n","import axios from 'axios';\n\nconst APIKey = '9cba2b56fa6de0f8781209edaebd8957';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\n//https://api.themoviedb.org/3/trending/movie/day?api_key=9cba2b56fa6de0f8781209edaebd8957\nexport const getTrendMovies = async () => {\n  const response = await axios.get(`/trending/movie/day?api_key=${APIKey}`);\n  return response.data.results;\n};\n\n//https://api.themoviedb.org/3/search/movie?api_key=9cba2b56fa6de0f8781209edaebd8957&query=batman\nexport const getMovieByQuery = async query => {\n  const response = await axios.get(\n    `/search/movie?api_key=${APIKey}&query=${query}`\n  );\n  return response.data.results;\n};\n\n// https://api.themoviedb.org/3/movie/54657?api_key=9cba2b56fa6de0f8781209edaebd8957\nexport const getMovieDetails = async movieid => {\n  const response = await axios.get(`/movie/${movieid}?api_key=${APIKey}`);\n  return response.data;\n};\n\n// https://api.themoviedb.org/3/movie/453395/credits?api_key=9cba2b56fa6de0f8781209edaebd8957\nexport const getMovieCredits = async movieid => {\n  const response = await axios.get(\n    `/movie/${movieid}/credits?api_key=${APIKey}`\n  );\n  return response.data.cast;\n};\n\n// https://api.themoviedb.org/3/movie/453395/reviews?api_key=9cba2b56fa6de0f8781209edaebd8957\nexport const getMovieReviews = async movieid => {\n  const response = await axios.get(\n    `/movie/${movieid}/reviews?api_key=${APIKey}`\n  );\n  return response.data.results;\n};\n"],"names":["SpinnerDotted","color","useState","reviews","setReviews","status","setStatus","error","setError","movieId","useParams","useEffect","fetchReviews","getMovieReviews","console","log","document","querySelector","getBoundingClientRect","cardHeight","height","window","scrollBy","top","behavior","GetReviews","Loader","toast","message","icon","style","borderRadius","background","length","className","s","map","review","content","author","id","ReviewsPage","APIKey","axios","getTrendMovies","response","data","results","getMovieByQuery","query","getMovieDetails","movieid","getMovieCredits","cast"],"sourceRoot":""}